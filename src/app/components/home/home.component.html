<app-header></app-header>

<main class="main-content">
    <section class="hero-section">
        <div class="container">
            <h1>Khám phá thế giới mua sắm của bạn</h1>
            <p class="subtext">Hàng ngàn sản phẩm chất lượng, giá cả phải chăng, giao hàng nhanh chóng.</p>
            <a href="#" class="btn btn-primary btn-large">Mua ngay</a>
        </div>
    </section>

    <div class="collections">
        <div class="container">
            <h2>Sản phẩm nổi bật</h2>
            <p class="description">
                Khám phá bộ sưu tập sản phẩm chất lượng cao, thiết kế tinh tế, mang đến trải nghiệm tuyệt vời cho bạn!
            </p>
            <div class="carousel">
                <div class="slides">
                    <div class="slide" *ngFor="let item of featuredProductRespons; let i = index"
                        [routerLink]="['/product-detail', item.product_response_id]">
                        <img [src]="item.image_url" alt="Product Image">
                        <h4>{{item.product_name}}</h4>
                        <p>{{item.description}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
 
    <hr>
    <section class="products-section">
        <div class="container">
            <h2>Sản phẩm mới nhất</h2>
            <div class="search-box">
                <select class="form-control service-category" [(ngModel)]="categoryId">
                    <option [value]="0">Tất cả</option>
                    <option *ngFor="let category of categories" [value]="category.categoryId">
                        {{ category.categoryName }}
                    </option>
                </select>
                <button class="btn btn-primary ml-2" (click)="searchProducts()">Tìm kiếm</button>
            </div>

            <div class="product-grid">
                <div class="product-card" *ngFor="let product of productRespons">
                    <img [src]="product.image_url" alt="Product Image" class="product-image">
                    <h3 class="product-name">{{ product.product_name }}</h3>
                    <p class="product-price">Giá: {{ product.price | currency:'VND':'symbol':'1.0-0' }}</p>
                    <div class="actions">
                        <button class="btn btn-primary" [routerLink]="['/product-detail', product.product_response_id]">
                            <i class="bi bi-cart-plus"></i> Chi tiết
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="pagination">
        <button (click)="changePage(page - 1)" [disabled]="page === 0">Trước</button>
        <button *ngFor="let p of pages" (click)="changePage(p)" [class.active]="p === page">{{ p + 1 }}</button>
        <button (click)="changePage(page + 1)" [disabled]="page === totalPages - 1">Tiếp</button>
    </div>
</main>

<footer class="footer">
    <div class="container">
        <p>&copy; 2025 ShopHub. All rights reserved.</p>
    </div>
</footer>